{"version":3,"sources":["constants.js","components/ErrorList.jsx","utils/context.js","context/ethereum.jsx","context/ipfs.jsx","context/contract.jsx","components/ipfs/FileList.jsx","components/ipfs/FileUpload.jsx","components/ObjectPropertyList.jsx","components/ethereum/contract/EventList.jsx","utils/abiModel.js","components/ethereum/contract/MethodForm.jsx","components/ethereum/whisper/KeyPairList.jsx","components/ethereum/whisper/KeyPairGenerator.jsx","components/ethereum/whisper/MessageList.jsx","components/ethereum/whisper/WeatherReport.jsx","components/ethereum/contract/HorizonClusterNotification.jsx","App.js","serviceWorker.js","index.js"],"names":["ETHEREUM_HTTP_CONFIG","net","options","ETHEREUM_WEBSOCKET_PROTOCOL","process","REACT_APP_ETHEREUM_WEBSOCKET_PROTOCOL","ETHEREUM_WEBSOCKET_HOST","REACT_APP_ETHEREUM_WEBSOCKET_HOST","ETHEREUM_WEBSOCKET_PORT","REACT_APP_ETHEREUM_WEBSOCKET_PORT","ETHEREUM_WEBSOCKET_API_PATH","REACT_APP_ETHEREUM_WEBSOCKET_API_PATH","ETHEREUM_WEBSOCKET_CONFIG","provider","REACT_APP_ETHEREUM_WEBSOCKET_URL","concat","ETHEREUM_WHISPER_CONFIG","ROUTER_CONTRACT_ADDRESS","REACT_APP_ROUTER_CONTRACT_ADDRESS","ROUTER_CONTRACT_ABI","REACT_APP_ROUTER_CONTRACT_ABI","RouterContract","abi","ROUTER_CONTRACT_OPTIONS","REACT_APP_ROUTER_CONTRACT_OPTIONS","JSON","parse","ROUTER_CONTRACT_EVENTS","REACT_APP_ROUTER_CONTRACT_EVENTS","Notice","ROUTER_CONTRACT_CONFIG","jsonInterface","address","IPFS_OPTIONS","protocol","REACT_APP_IPFS_PROTOCOL","host","REACT_APP_IPFS_HOST","port","REACT_APP_IPFS_PORT","api-path","REACT_APP_IPFS_API_PATH","ErrorList","_ref","_ref$errors","errors","_ref$errorComponent","errorComponent","react_default","a","createElement","map","error","index","key","message","fixReturnValues","returnValues","reducedValues","Object","entries","filter","entry","isNaN","reduce","acc","object","_ref2","slicedToArray","name","value","constructor","isBN","isBigNumber","toString","push","fromEntries","handleErrorStub","arguments","length","undefined","Error","console","log","isFalseyOrPromise","maybePromise","then","context","createContext","EthereumProvider","props","authConfig","eventConfig","shhConfig","_useState","useState","_useState2","authEth","setAuthEth","_useState3","_useState4","authEthAccounts","setAuthEthAccounts","_useState5","_useState6","eventEth","setEventEth","_useState7","_useState8","shh","setShh","_useState9","_useState10","ethErrors","setEthErrors","_useState11","_useState12","shhErrors","setShhErrors","addEthError","toConsumableArray","addShhError","useEffect","setupAuthEth","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","t0","authEthInstance","t1","sent","abrupt","stop","apply","this","setupEventEth","_callee2","_context2","eventEthInstance","setupShh","_ref3","_callee3","_context3","shhInstance","components_ErrorList","Provider","utils","Web3Utils","children","_ref5","_callee4","_ref4","_ref4$net","_ref4$options","accountsHandler","errorHandler","_window","ethereum","_args4","_context4","window","enable","on","accounts","Web3","modules","Eth","t2","code","_x","_ref6","_ref6$net","_ref6$options","_ref7","_ref7$net","_ref7$options","Shh","Consumer","IpfsProvider","IpfsClient","ipfs","setIpfs","ipfs_context","createContractInstance","eth","Contract","init","authContract","eventContract","reducer","state","action","type","payload","createArgs","objectWithoutProperties","_createArgs$jsonInter","_createArgs$address","_createArgs$options","_createArgs$errorHand","objectSpread","ContractProvider","onError","_useContext","useContext","ethereumContext","contractErrors","setContractErrors","addContractError","_useReducer","useReducer","initArg","_useReducer2","dispatch","setJsonInterface","setAddress","contract_context","setOptions","setErrorHandler","Fragment","onChange","event","persist","target","IpfsFileList","_props$files","files","_ipfs$getEndpointConf","ipfsContext","getEndpointConfig","apiPath","file","href","hash","rel","path","size","IpfsFileUpload","outboundFiles","setOutboundFiles","uploadedFiles","setUploadedFiles","uploadError","setUploadError","uploading","setUploading","formRef","useRef","sendFiles","stopPropagation","preventDefault","add","current","reset","ref","Array","from","content","fileReaderPullStream","onReset","onClick","disabled","FileList","ObjectPropertyList","_ref$ordered","ordered","items","stringify","subscribe","contract","events","eventAdder","eventHandler","info","allEvents","unsubscribe","subscriptions","isArray","forEach","subscription","EthereumContractEventList","_props$eventComponent","eventComponent","contractContext","setSubscriptions","contractEvents","setContractEvents","addContractEvent","slice","reverse","components_ObjectPropertyList","getAbiItemModel","abiModel","method","methods","EthereumContractMethodForm","setter","_props$method","_props$sendTx","sendTx","_useContext2","form","setForm","payable","setPayable","setValue","receipts","setReceipts","formErrors","setFormErrors","invalidForm","setInvalidForm","addReceipt","values","addFormError","errorAdder","callMethod","params","_authContract$methods","call","sendMethod","_authContract$methods2","send","execMethod","field","toWei","t3","t4","methodExists","abiItem","inputs","input","getParams","getAbiItem","methodIsPayable","placeholder","newForm","findIndex","updateForm","receipt","KeyPairList","_props$keyPairs","keyPairs","_props$showKeyPairId","showKeyPairId","_props$showPublicKey","showPublicKey","_props$showPrivateKey","showPrivateKey","keyPair","id","publicKey","privateKey","WhisperKeyPairGenerator","setKeyPairs","generateKeyPair","newKeyPair","getPublicKey","getPrivateKey","whisper_KeyPairList","WhisperMessageList","_props$showSymKey","showSymKey","_props$msgComponent","msgComponent","symKeyId","setSymKeyId","privateKeyId","setPrivateKeyId","setSubscription","messages","setMessages","addMessage","WeatherReport","_props$message","report","setReport","ipfsHash","rawReport","_report","_args","hexToAscii","cat","getWeatherFromIpfs","HorizonClusterNotification","_props$event$returnVa","location","price","specshash","specs","abihash","setSpecs","getJsonInterface","rawJsonInterface","_jsonInterface","getSpecs","rawSpecsJson","_specs","App","ethereum_EthereumProvider","ipfs_IpfsProvider","className","FileUpload","contract_ContractProvider","MethodForm","assign","EventList","KeyPairGenerator","MessageList","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0178a429.chunk.js","sourcesContent":["import RouterContract from './contracts/Router.json'\n\nexport const ETHEREUM_HTTP_CONFIG = {\n  net: null,\n  options: {}\n}\n\nexport const ETHEREUM_WEBSOCKET_PROTOCOL = process.env.REACT_APP_ETHEREUM_WEBSOCKET_PROTOCOL || 'wss'\nexport const ETHEREUM_WEBSOCKET_HOST = process.env.REACT_APP_ETHEREUM_WEBSOCKET_HOST || 'rinkeby.kryha.dev'\nexport const ETHEREUM_WEBSOCKET_PORT = process.env.REACT_APP_ETHEREUM_WEBSOCKET_PORT || ''\nexport const ETHEREUM_WEBSOCKET_API_PATH = process.env.REACT_APP_ETHEREUM_WEBSOCKET_API_PATH || '/ws'\nexport const ETHEREUM_WEBSOCKET_URL = process.env.REACT_APP_ETHEREUM_WEBSOCKET_URL || `${ETHEREUM_WEBSOCKET_PROTOCOL}://${ETHEREUM_WEBSOCKET_HOST}${ETHEREUM_WEBSOCKET_PORT ? `:${ETHEREUM_WEBSOCKET_PORT}` : ''}${ETHEREUM_WEBSOCKET_API_PATH}`\nexport const ETHEREUM_WEBSOCKET_CONFIG = {\n  provider: ETHEREUM_WEBSOCKET_URL,\n  net: null,\n  options: {}\n}\n\nexport const ETHEREUM_WHISPER_CONFIG = {\n  provider: 'wss://rinkeby.kryha.dev/ws',\n  net: null,\n  options: {}\n}\n\nexport const ROUTER_CONTRACT_ADDRESS = process.env.REACT_APP_ROUTER_CONTRACT_ADDRESS || '0xE8449CaCf2a3f3caa5Fb3958694E0BD0a1460A02'\nexport const ROUTER_CONTRACT_ABI = process.env.REACT_APP_ROUTER_CONTRACT_ABI || RouterContract.abi\nexport const ROUTER_CONTRACT_OPTIONS = process.env.REACT_APP_ROUTER_CONTRACT_OPTIONS ? JSON.parse(process.env.REACT_APP_ROUTER_CONTRACT_OPTIONS) : {}\nexport const ROUTER_CONTRACT_EVENTS = process.env.REACT_APP_ROUTER_CONTRACT_EVENTS ? JSON.parse(process.env.REACT_APP_ROUTER_CONTRACT_EVENTS) : { 'Notice': {} }\nexport const ROUTER_CONTRACT_CONFIG = {\n  jsonInterface: ROUTER_CONTRACT_ABI,\n  address: ROUTER_CONTRACT_ADDRESS,\n  options: ROUTER_CONTRACT_OPTIONS\n}\n\nexport const IPFS_PROTOCOL = process.env.REACT_APP_IPFS_PROTOCOL || 'https'\nexport const IPFS_HOST = process.env.REACT_APP_IPFS_HOST || 'ipfs.kryha.dev'\nexport const IPFS_PORT = process.env.REACT_APP_IPFS_PORT || '443'\nexport const IPFS_API_PATH = process.env.REACT_APP_IPFS_API_PATH || '/api/v0/'\nexport const IPFS_OPTIONS = {\n  'protocol': IPFS_PROTOCOL,\n  'host': IPFS_HOST,\n  'port': IPFS_PORT,\n  'api-path': IPFS_API_PATH\n}\n","import React, { createElement } from 'react'\n\nconst ErrorList = ({ errors = [], errorComponent = null }) => (\n  <ul>{errors.map((error, index) => errorComponent ? createElement(errorComponent, { error, key: index }) : <li key={index}>{error.message}</li>)}</ul>\n)\n\nexport default ErrorList\n","// in web3 docs, but missing export? Still seems to be used for event listener 🤮\nexport const isBigNumber = object => object && object.constructor && object.constructor.isBigNumber && object.constructor.isBigNumber(object)\n// might as well include this here to prevent unnecessary propagation of a web3 instance\nexport const isBN = object => object && object.constructor && object.constructor.isBN && object.constructor.isBN(object)\n\nexport const fixReturnValues = (returnValues) => {\n  const reducedValues = Object.entries(returnValues)\n    .filter(entry => isNaN(entry[0]))\n    .reduce((acc, [name, value]) => {\n      if (isBN(value) || isBigNumber(value)) {\n        value = value.toString()\n      }\n      acc.push([name, value])\n      return acc\n    }, [])\n  return Object.fromEntries(reducedValues)\n}\n\nexport const handleErrorStub = (error = new Error()) => { console.log(error); return error }\n\nexport const isFalseyOrPromise = (maybePromise) => !maybePromise || (typeof maybePromise === 'object' && typeof maybePromise.then === 'function')\n\nexport const valueAdder = (setter) => (value) => { console.info(value); setter((values) => [...values, value]) }\nexport const errorAdder = (setter) => (error) => { console.error(error); setter((errors) => [...errors, error]) }\n","import React, { createContext, useState, useEffect } from 'react'\nimport Web3 from 'web3'\nimport * as Web3Utils from 'web3-utils'\nimport ErrorList from '../components/ErrorList.jsx'\nimport { handleErrorStub, isFalseyOrPromise } from '../utils/context.js'\n\nconst context = createContext()\n\nexport const EthereumProvider = (props) => {\n  const { authConfig, eventConfig, shhConfig } = props\n  const [authEth, setAuthEth] = useState(null)\n  const [authEthAccounts, setAuthEthAccounts] = useState('')\n  const [eventEth, setEventEth] = useState(null)\n  const [shh, setShh] = useState(null)\n  const [ethErrors, setEthErrors] = useState([])\n  const [shhErrors, setShhErrors] = useState([])\n  const addEthError = (error) => setEthErrors((errors) => { console.error(error); return [...errors, error] })\n  const addShhError = (error) => setShhErrors((errors) => { console.error(error); return [...errors, error] })\n\n  useEffect(() => {\n    const setupAuthEth = async () => setAuthEth(await authEthInstance(authConfig, setAuthEthAccounts, addEthError))\n    const setupEventEth = async () => setEventEth(await eventEthInstance(eventConfig, addEthError))\n    const setupShh = async () => setShh(await shhInstance(shhConfig, addShhError))\n    if (!ethErrors.length && !authEth) {\n      setAuthEth(setupAuthEth())\n    }\n    if (!ethErrors.length && !eventEth) {\n      setEventEth(setupEventEth())\n    }\n    if (!shhErrors.length && !shh) {\n      setShh(setupShh())\n    }\n  }, [ethErrors.length, authEth, eventEth, shhErrors.length, shh, eventConfig, shhConfig, authConfig])\n\n  const errors = []\n  if ((isFalseyOrPromise(authEth) || isFalseyOrPromise(eventEth)) && ethErrors.length) { errors.push(<pre>EthereumProvider Eth Error: <ErrorList errors={ethErrors} /></pre>) }\n  if (isFalseyOrPromise(shh) && shhErrors.length) { errors.push(<pre>EthereumProvider Shh Error: <ErrorList errors={shhErrors} /></pre>) }\n  if (errors.length) { return errors }\n\n  if (isFalseyOrPromise(authEth) || isFalseyOrPromise(eventEth) || isFalseyOrPromise(shh)) { return <pre>Connecting to Ethereum...</pre> }\n\n  return (\n    <context.Provider value={{ authEth, authEthAccounts, eventEth, shh, setAuthEth, setEventEth, setShh, ethErrors, shhErrors, addEthError, addShhError, utils: Web3Utils }}>\n      {props.children}\n    </context.Provider>\n  )\n}\n\nconst authEthInstance = async ({ net = null, options = {} }, accountsHandler = () => {}, errorHandler = handleErrorStub) => {\n  const { ethereum } = window\n  if (!ethereum) {\n    errorHandler(new Error('Looks like you need a Dapp browser to get started.'))\n  } else {\n    try {\n      accountsHandler(await ethereum.enable())\n      ethereum.on('accountsChanged', (accounts) => accountsHandler(accounts))\n      return new Web3.modules.Eth(ethereum, net, options)\n    } catch (error) {\n      if (error.code === 4001) {\n        errorHandler(new Error('You need to sign into your Ethereum provider.'))\n      } else {\n        errorHandler(error)\n      }\n    }\n  }\n}\n\nconst eventEthInstance = ({ provider, net = null, options = {} }, errorHandler = handleErrorStub) => {\n  try {\n    return new Web3.modules.Eth(provider, net, options)\n  } catch (error) {\n    errorHandler(error)\n  }\n}\n\nconst shhInstance = ({ provider, net = null, options = {} }, errorHandler = handleErrorStub) => {\n  try {\n    return new Web3.modules.Shh(provider, net, options)\n  } catch (error) {\n    errorHandler(error)\n  }\n}\n\nexport const EthereumConsumer = context.Consumer\n\nexport default context\n","import IpfsClient from 'ipfs-http-client'\nimport React, { createContext, useState } from 'react'\n\nconst context = createContext()\n\nexport const IpfsProvider = (props) => {\n  const [ipfs, setIpfs] = useState(() => IpfsClient(props.options))\n\n  return (\n    <context.Provider value={{ ipfs, setIpfs }}>\n      {props.children}\n    </context.Provider>\n  )\n}\n\nexport const IpfsConsumer = context.Consumer\n\nexport default context\n","import React, { useReducer, createContext, useContext, useState } from 'react'\nimport ethereumContext from './ethereum.jsx'\n\nconst createContractInstance = (eth, jsonInterface, address, options, errorHandler) => {\n  try {\n    return new eth.Contract(jsonInterface, address, options)\n  } catch (error) {\n    errorHandler(error)\n  }\n}\n\nconst init = ({ authEth, eventEth, jsonInterface, address, options, errorHandler }) => {\n  return {\n    jsonInterface,\n    address,\n    options,\n    authContract: createContractInstance(authEth, jsonInterface, address, options, errorHandler),\n    eventContract: createContractInstance(eventEth, jsonInterface, address, options, errorHandler),\n    errorHandler\n  }\n}\n\nconst initArg = (authEth, eventEth, jsonInterface, address, options, errorHandler) => (\n  { authEth, eventEth, jsonInterface, address, options, errorHandler }\n)\n\nconst reducer = (state, action) => {\n  const { type, payload } = action\n  const { authEth, eventEth, ...createArgs } = payload\n  const {\n    jsonInterface = state.jsonInterface,\n    address = state.address,\n    options = state.options,\n    errorHandler = state.errorHandler\n  } = createArgs\n  const authContract = createContractInstance(authEth, jsonInterface, address, options, errorHandler)\n  const eventContract = createContractInstance(eventEth, jsonInterface, address, options, errorHandler)\n  switch (type) {\n    case 'setJsonInterface': return { ...state, jsonInterface, authContract, eventContract }\n    case 'setAddress': return { ...state, address, authContract, eventContract }\n    case 'setOptions': return { ...state, options, authContract, eventContract }\n    case 'setErrorHandler': return { ...state, errorHandler, authContract, eventContract }\n    case 'reset': return init(payload)\n    default: throw new Error('unexpected action')\n  }\n}\n\nconst context = createContext()\n\nexport const ContractProvider = (props) => {\n  const { jsonInterface, address, options, onError, children } = props\n  const { authEth, eventEth } = useContext(ethereumContext)\n\n  const [contractErrors, setContractErrors] = useState([])\n  const addContractError = (error) => setContractErrors((errors) => [...errors, error])\n  const errorHandler = (error) => { addContractError(error); onError && onError(error) }\n\n  const [state, dispatch] = useReducer(reducer, initArg(authEth, eventEth, jsonInterface, address, options, errorHandler), init)\n  const setJsonInterface = (jsonInterface) => dispatch({ type: 'setJsonInterface', payload: { authEth, eventEth, jsonInterface } })\n  const setAddress = (address) => dispatch({ type: 'setAddress', payload: { authEth, eventEth, address } })\n  const setOptions = (options) => dispatch({ type: 'setOptions', payload: { authEth, eventEth, options } })\n  const setErrorHandler = (errorHandler) => dispatch({ type: 'setErrorHandler', payload: { authEth, eventEth, errorHandler } })\n\n  // todo: should be an error boundary ?\n  if (!state.jsonInterface || !state.address) {\n    return (\n      <>\n        Contract Context Missing <br />\n        <label>Address: <input value={address} onChange={(event) => { event.persist(); setAddress(event.target.value) }} /></label><br />\n        <label>JSON Interface: <input value={jsonInterface} onChange={(event) => { event.persist(); setJsonInterface(JSON.parse(event.target.value)) }} /></label>\n      </>\n    )\n  }\n\n  // todo: replace when error boundary is implemented\n  // if (!state.authContract || !state.eventContract) { return null }\n\n  return (\n    <context.Provider value={{ ...state, setJsonInterface, setAddress, setOptions, setErrorHandler, contractErrors, addContractError }}>\n      {children}\n    </context.Provider>\n  )\n}\n\nexport const ContractConsumer = context.Consumer\n\nexport default context\n","import React, { useContext } from 'react'\nimport ipfsContext from '../../context/ipfs.jsx'\n\nconst IpfsFileList = (props) => {\n  const { files = [] } = props\n  const { ipfs } = useContext(ipfsContext)\n  const { protocol, host, port, 'api-path': apiPath } = ipfs.getEndpointConfig()\n  return (\n    <ul>\n      {\n        !files.length\n          ? <li>No files.</li>\n          : files.map((file, index) => (\n            <li key={index}><a href={`${protocol}://${host}:${port}${apiPath}cat?arg=${file.hash}`} target='_blank' rel='noopener noreferrer' >{file.path}</a> - {file.hash} - {file.size} bytes</li>\n          ))}\n    </ul>\n  )\n}\n\nexport default IpfsFileList\n","import React, { useContext, useState, useRef } from 'react'\nimport fileReaderPullStream from 'pull-file-reader'\nimport ipfsContext from '../../context/ipfs.jsx'\nimport IpfsFileList from './FileList.jsx'\n\nconst IpfsFileUpload = (props) => {\n  const { ipfs } = useContext(ipfsContext)\n  const [outboundFiles, setOutboundFiles] = useState([])\n  const [uploadedFiles, setUploadedFiles] = useState([])\n  const [uploadError, setUploadError] = useState('')\n  const [uploading, setUploading] = useState(false)\n  const formRef = useRef()\n\n  const captureFiles = (event) => {\n    event.stopPropagation()\n    event.preventDefault()\n    const files = Array.from(event.target.files).map((file) => ({ path: file.name, content: fileReaderPullStream(file) }))\n    setOutboundFiles(files)\n    setUploadError('')\n  }\n\n  const sendFiles = async (event) => {\n    event.stopPropagation()\n    event.preventDefault()\n    setUploading(true)\n    try {\n      const files = await ipfs.add(outboundFiles) // infura http api does not seem to support multiple files\n      setUploadedFiles([...files, ...uploadedFiles])\n      formRef.current.reset()\n    } catch (error) {\n      setUploadError(error.message)\n    }\n    setUploading(false)\n  }\n\n  return (\n    <>\n      <form ref={formRef}>\n        <input type='file' onChange={captureFiles} onReset={() => setOutboundFiles([])} />\n        <button onClick={sendFiles} disabled={!outboundFiles.length || uploading}>Upload to IPFS</button>\n      </form>\n      {uploadError && <pre>{uploadError}</pre>}\n      <h3>Uploaded File List</h3>\n      <IpfsFileList files={uploadedFiles} />\n    </>\n  )\n}\n\nexport default IpfsFileUpload\n","import React from 'react'\n\nconst ObjectPropertyList = ({ object, ordered = false }) => {\n  const items = Object.entries(object).map(([name, value], index) => (<li key={index}>{name}: {JSON.stringify(value)} </li>))\n  if (ordered) {\n    return <ol>{items}</ol>\n  } else {\n    return <ul>{items}</ul>\n  }\n}\n\nexport default ObjectPropertyList\n","import React, { useContext, useState, useEffect, createElement } from 'react'\nimport contractContext from '../../../context/contract.jsx'\nimport { fixReturnValues, handleErrorStub } from '../../../utils/context.js'\nimport ObjectPropertyList from '../../ObjectPropertyList.jsx'\n\nconst EthereumContractEventList = (props) => {\n  const { events, eventComponent = null } = props\n  const { eventContract, addContractError } = useContext(contractContext)\n  const [subscriptions, setSubscriptions] = useState([])\n  const [contractEvents, setContractEvents] = useState([])\n  const addContractEvent = (event) => setContractEvents((events) => [...events, event])\n\n  useEffect(() => {\n    if (!subscriptions.length) {\n      setSubscriptions(subscribe(eventContract, events, addContractEvent, addContractError))\n    }\n    return () => unsubscribe(subscriptions)\n  }, [events, eventContract, subscriptions, addContractError])\n\n  return (\n    <ol>\n      {\n        !contractEvents.length\n          ? <li>No events.</li>\n          : contractEvents.slice().reverse().map((event, index) => (\n            eventComponent\n              ? createElement(eventComponent, { event, key: index })\n              : <li key={index}>\n                {event.event}\n                <ObjectPropertyList object={event.returnValues} name='' />\n              </li>\n          ))\n      }\n    </ol>\n  )\n}\n\n// todo: store events in local storage?\nconst subscribe = (contract, events, eventAdder, errorHandler = handleErrorStub) => {\n  const eventHandler = (event) => {\n    if (event && event.returnValues) {\n      eventAdder({ ...event, returnValues: fixReturnValues(event.returnValues) })\n    } else {\n      eventAdder(event)\n    }\n  }\n\n  // todo: determine now (blocknumber)\n  // todo: retrieve list of events until now\n\n  // if no events passed, add a single listener for all events\n  if (!events) {\n    return [\n      contract.events.allEvents({})\n        .on('data', eventHandler)\n        .on('changed', console.info) // todo: add logic for removing event from local storage\n        .on('error', errorHandler)\n    ]\n  }\n\n  // add a listener per event provided\n  return Object.entries(events).map(([name, options]) => {\n    return contract.events[name](options)\n      .on('data', eventHandler)\n      .on('changed', console.info) // todo: add logic for removing event from local storage\n      .on('error', errorHandler)\n  })\n}\n\nconst unsubscribe = (subscriptions) => {\n  if (Array.isArray(subscriptions)) {\n    subscriptions.forEach((subscription) => subscription.unsubscribe())\n  }\n}\n\nexport default EthereumContractEventList\n","const getAbiItemModel = (abiModel, method) => abiModel.abi.methods[method]\nconst getAbiItem = (abiModel, method) => abiModel.abi.methods[method].abiItem\nexport const methodExists = (abiModel, method) => !!getAbiItemModel(abiModel, method)\nexport const methodIsPayable = (abiModel, method) => !!getAbiItem(abiModel, method).payable\n// todo: figure out how to handle overloading\nexport const getParams = (abiModel, method) => {\n  const { abiItem } = getAbiItemModel(abiModel, method)\n  const { inputs } = abiItem\n  const params = inputs.map((input) => ({ ...input, value: '' })) // todo: fix initial value to depend on the input type?\n  return params\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport ethereumContext from '../../../context/ethereum.jsx'\nimport contractContext from '../../../context/contract.jsx'\nimport ErrorList from '../../ErrorList.jsx'\nimport ObjectPropertyList from '../../ObjectPropertyList.jsx'\nimport { valueAdder, errorAdder } from '../../../utils/context.js'\nimport { methodExists, methodIsPayable, getParams } from '../../../utils/abiModel.js'\n\nconst EthereumContractMethodForm = (props) => {\n  const { method = null, sendTx = false } = props\n  const { authContract, addContractError } = useContext(contractContext)\n  const { authEthAccounts, utils } = useContext(ethereumContext)\n  const abiModel = authContract.jsonInterface\n  const [form, setForm] = useState([])\n  const [payable, setPayable] = useState(false)\n  const [value, setValue] = useState(0)\n  const [receipts, setReceipts] = useState([])\n  const [formErrors, setFormErrors] = useState([])\n  const [invalidForm, setInvalidForm] = useState(false)\n  const addReceipt = valueAdder(setReceipts)\n  const updateForm = (event, name) => {\n    event.stopPropagation()\n    event.preventDefault()\n    event.persist()\n    setForm((form) => {\n      const newForm = [...form]\n      const index = form.findIndex((field) => (name === field.name))\n      newForm[index] = { ...newForm[index], value: event.target.value }\n      return newForm\n    })\n  }\n\n  const addFormError = errorAdder(setFormErrors)\n  const callMethod = (params, options) => authContract.methods[method](...params).call(options)\n  const sendMethod = (params, options) => authContract.methods[method](...params).send(options)\n  const execMethod = async (event) => {\n    event.stopPropagation()\n    event.preventDefault()\n    try {\n      setFormErrors([])\n      const params = Object.values(form).map((field) => (field.value))\n      const options = { from: authEthAccounts[0], value: utils.toWei(value, 'ether') }\n      if (sendTx) {\n        addReceipt(await sendMethod(params, options))\n      } else {\n        addReceipt(await callMethod(params, options))\n      }\n    } catch (error) {\n      if (error.code === 'INVALID_ARGUMENT') {\n        addFormError(error)\n      } else {\n        addContractError(error)\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (!invalidForm) {\n      const validMethod = methodExists(abiModel, method)\n      if (!validMethod) {\n        addFormError(new Error(`Contract json interface does not contain provided method: ${method}`))\n        setInvalidForm(true)\n      } else if (!form.length) {\n        const params = getParams(abiModel, method)\n        setForm(params)\n        if (methodIsPayable(abiModel, method)) {\n          setPayable(true)\n        }\n      }\n    }\n  }, [invalidForm, abiModel, method, form.length, addFormError])\n\n  if (invalidForm) { return null }\n\n  return (\n    <>\n      <h3>{sendTx ? 'Send' : 'Call'} <pre>{method}</pre> Form </h3>\n      <form>\n        { form.map(({ name, type }, index) => (\n          <label key={index}>\n            {name} ({type}) {}\n            <input name={name} value={form[index].value} placeholder={name} onChange={(event) => updateForm(event, name)} type='text' />\n            <br />\n          </label>\n        )) }\n        {payable\n          ? (\n            <label>\n            Payable value (ETH) {}\n              <input type='number' value={value} onChange={(event) => { event.persist(); setValue(event.target.value) }} />\n            </label>\n          )\n          : null\n        }\n        <button onClick={execMethod}>Submit</button>\n      </form>\n      { formErrors.length ? <ErrorList errors={formErrors} /> : null }\n      { receipts.length\n        ? <ol>{ receipts.slice().reverse().map((receipt) => <li><ObjectPropertyList object={receipt} name='Receipt' /></li>) }</ol>\n        : null }\n    </>\n  )\n}\n\nexport default EthereumContractMethodForm\n","import React from 'react'\n\nconst KeyPairList = (props) => {\n  const { keyPairs = [], showKeyPairId = false, showPublicKey = true, showPrivateKey = false } = props\n\n  if (!keyPairs.length) {\n    return (\n      <ul>\n        <li>No key pairs.</li>\n      </ul>\n    )\n  }\n\n  return (\n    <ul>\n      {\n        keyPairs.map((keyPair, index) => (\n          <li key={index}>\n            {showKeyPairId ? <>Key id: <pre>{keyPair.id}</pre></> : null}\n            {showPublicKey ? <>Public key: <pre>{keyPair.publicKey}</pre></> : null}\n            {showPrivateKey ? <>Private key: <pre>{keyPair.privateKey}</pre></> : null}\n          </li>\n        ))\n      }\n    </ul>\n  )\n}\n\nexport default KeyPairList\n","import React, { useContext, useState } from 'react'\nimport ethereumContext from '../../../context/ethereum.jsx'\nimport KeyPairList from './KeyPairList.jsx'\n\nconst WhisperKeyPairGenerator = (props) => {\n  const { shh, shhErrors, addShhError } = useContext(ethereumContext)\n  const [keyPairs, setKeyPairs] = useState([])\n\n  const generateKeyPair = async () => {\n    try {\n      const id = await shh.newKeyPair()\n      const publicKey = await shh.getPublicKey(id)\n      const privateKey = await shh.getPrivateKey(id)\n      const keyPair = { id, publicKey, privateKey }\n\n      setKeyPairs((keyPairs) => [...keyPairs, keyPair])\n    } catch (error) {\n      addShhError(error)\n    }\n  }\n\n  return (\n    <div>\n      <button onClick={() => generateKeyPair()} >Generate keypair</button>\n      {shhErrors.length ? <pre>{shhErrors[shhErrors.length - 1].message}</pre> : null}\n      <KeyPairList keyPairs={keyPairs} showKeyPairId />\n    </div>\n  )\n}\n\nexport default WhisperKeyPairGenerator\n","import React, { useState, useContext, useEffect, createElement } from 'react'\nimport ethereumContext from '../../../context/ethereum.jsx'\nimport ObjectPropertyList from '../../ObjectPropertyList.jsx'\n\nconst WhisperMessageList = (props) => {\n  const { showSymKey = false, msgComponent = null } = props\n  const { shh, addShhError, utils } = useContext(ethereumContext)\n  const [symKeyId, setSymKeyId] = useState('')\n  const [privateKeyId, setPrivateKeyId] = useState('')\n  const [subscription, setSubscription] = useState(null)\n  const [messages, setMessages] = useState([])\n\n  useEffect(() => {\n    const addMessage = (message) => { setMessages((messages) => [...messages, message]) }\n    const subscribe = (symKeyId, privateKeyId) => (shh.subscribe('messages', { symKeyId, privateKeyId }).on('data', addMessage).on('error', addShhError))\n\n    if (!subscription) {\n      if (symKeyId) {\n        setSubscription(subscribe(symKeyId, null))\n      } else if (privateKeyId) {\n        setSubscription(subscribe(null, privateKeyId))\n      }\n    }\n    return () => {\n      if (subscription) {\n        subscription.unsubscribe()\n        setSubscription(null)\n      }\n    }\n  }, [subscription, shh, addShhError, symKeyId, privateKeyId, utils])\n\n  return (\n    <>\n      <label>Key id: </label>\n      {showSymKey && <input type='text' placeholder='Symmetric Key Id' onChange={(event) => setSymKeyId(event.target.value)} />}\n      <input type='text' placeholder='Private Key Id' onChange={(event) => setPrivateKeyId(event.target.value)} />\n      <ul>\n        {!messages.length\n          ? <li>No messages.</li>\n          : messages.map((message, index) => (\n            msgComponent\n              ? createElement(msgComponent, { message, key: index })\n              : <ul key={index}><ObjectPropertyList object={message} /></ul>\n          ))}\n      </ul>\n    </>\n  )\n}\n\nexport default WhisperMessageList\n// {ttl, timestamp, topic, payload, padding, pow, hash, recipientPublicKey}\n","import React, { useContext, useState, useEffect } from 'react'\nimport ipfsContext from '../../../context/ipfs.jsx'\nimport ethereumContext from '../../../context/ethereum.jsx'\n\nconst WeatherReport = (props) => {\n  const { message = {} } = props\n  const { ipfs } = useContext(ipfsContext)\n  const { utils } = useContext(ethereumContext)\n  const [report, setReport] = useState(null)\n  useEffect(() => {\n    const getWeatherFromIpfs = async (message = {}) => {\n      const ipfsHash = utils.hexToAscii(message.payload)\n      try {\n        const rawReport = await ipfs.cat(ipfsHash)\n        const report = rawReport.toString()\n        setReport(report)\n      } catch (error) {\n        console.error(ipfsHash, error)\n        setReport(null)\n      }\n    }\n    if (!report) {\n      getWeatherFromIpfs(message)\n    }\n  }, [message, ipfs, utils, report])\n\n  return <li>{report}</li>\n}\n\nexport default WeatherReport\n","import React, { useContext, useState, useEffect } from 'react'\nimport ipfsContext from '../../../context/ipfs.jsx'\nimport ObjectPropertyList from '../../ObjectPropertyList.jsx'\n\nconst HorizonClusterNotification = (props) => {\n  const { event } = props\n  const { location, price, specs: specshash, abihash } = props.event.returnValues\n  const { ipfs } = useContext(ipfsContext)\n  const [jsonInterface, setJsonInterface] = useState('')\n  const [specs, setSpecs] = useState(null)\n\n  useEffect(() => {\n    const getJsonInterface = async () => {\n      try {\n        const rawJsonInterface = await ipfs.cat(abihash)\n        const jsonInterface = rawJsonInterface.toString()\n        setJsonInterface(jsonInterface)\n      } catch (error) {\n        console.error(abihash, error)\n        setJsonInterface(null)\n      }\n    }\n    const getSpecs = async () => {\n      try {\n        const rawSpecsJson = await ipfs.cat(specshash)\n        const specs = JSON.parse(rawSpecsJson)\n        setSpecs(specs)\n      } catch (error) {\n        console.log(specshash, error)\n        setSpecs(null)\n      }\n    }\n    if (!jsonInterface) {\n      getJsonInterface()\n    }\n    if (!specs) {\n      getSpecs()\n    }\n  }, [jsonInterface, specs, ipfs, abihash, specshash])\n\n  return (\n    <li>\n      {event.event}\n      <ul>\n        <li><label>specs: {specshash} {specs ? <ObjectPropertyList object={specs} name='' /> : null }</label></li>\n        <li><label>price: {price}</label></li>\n        <li><label>jsonInterface: {abihash} {jsonInterface ? <ul><li><input value={jsonInterface} disabled /></li></ul> : null}</label></li>\n        <li><label>address: {location}</label></li>\n      </ul>\n    </li>\n  )\n}\n\nexport default HorizonClusterNotification\n","import React from 'react'\nimport { ETHEREUM_HTTP_CONFIG, ETHEREUM_WEBSOCKET_CONFIG, ETHEREUM_WHISPER_CONFIG, IPFS_OPTIONS, ROUTER_CONTRACT_CONFIG, ROUTER_CONTRACT_EVENTS } from './constants.js'\nimport { EthereumProvider } from './context/ethereum.jsx'\nimport { IpfsProvider } from './context/ipfs.jsx'\nimport { ContractProvider } from './context/contract.jsx'\nimport IpfsFileUpload from './components/ipfs/FileUpload.jsx'\nimport EthereumContractEventList from './components/ethereum/contract/EventList.jsx'\nimport EthereumContractMethodForm from './components/ethereum/contract/MethodForm.jsx'\nimport WhisperKeypairGenerator from './components/ethereum/whisper/KeyPairGenerator.jsx'\nimport WhisperMessageList from './components/ethereum/whisper/MessageList.jsx'\nimport WeatherReport from './components/ethereum/whisper/WeatherReport.jsx'\nimport HorizonClusterNotification from './components/ethereum/contract/HorizonClusterNotification.jsx'\nimport './App.css'\n\nfunction App () {\n  return (\n    <EthereumProvider authConfig={ETHEREUM_HTTP_CONFIG} eventConfig={ETHEREUM_WEBSOCKET_CONFIG} shhConfig={ETHEREUM_WHISPER_CONFIG}>\n      <IpfsProvider options={IPFS_OPTIONS}>\n        <div className='App'>\n          <h1>Horizon</h1>\n          <div>\n            <h2>IPFS File Upload</h2>\n            <IpfsFileUpload />\n          </div>\n          <div>\n            <h2>Forward Contract</h2>\n            <ContractProvider name='Forward'>\n              <EthereumContractMethodForm method='forward' sendTx />\n            </ContractProvider>\n          </div>\n          <div>\n            <h2>Router Contract</h2>\n            <ContractProvider {...ROUTER_CONTRACT_CONFIG} name='Router'>\n              <h3>Event List</h3>\n              <EthereumContractEventList events={ROUTER_CONTRACT_EVENTS} eventComponent={HorizonClusterNotification} />\n            </ContractProvider>\n          </div>\n          <div>\n            <h2>Whisper</h2>\n            <h3>Key Pair Generator</h3>\n            <WhisperKeypairGenerator />\n            <h3>Message List</h3>\n            <WhisperMessageList msgComponent={WeatherReport} />\n          </div>\n        </div>\n      </IpfsProvider>\n    </EthereumProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}